$background-color: rgba(#000, .00);

@mixin darker-hover($border-color, $name) {
  $darker-border-color: darken($border-color, 15%);
  border-color: darken($border-color, 5%);

  // for the buttons with dark backgrounds, add a shadow to text
  @if $name != 'danger' {
    @if $name != 'default' {
      text-shadow: 1px 1px 2px transparentize($darker-border-color, .5),
                  -1px -1px 2px transparentize($darker-border-color, .5);
    }
  }

  &:hover,
  &:focus {
    // create namespaced animation for the background-color
    @keyframes pulsate-#{$name} {
      50% { background-color: $border-color; }
    }
    color: $btn-color;
    background-color: $darker-border-color;
    border-color: $darker-border-color;
  }
}

.btn {
  font-family: 'Ubuntu';
  letter-spacing: .05em;
  box-shadow: 0 1px 1px $box-shadow;

  &.btn-primary { @include darker-hover($primary-border-subtle, 'primary'); }
  &.btn-success { @include darker-hover($success-border-subtle, 'success'); }
  &.btn-info { @include darker-hover($info-border-subtle, 'info'); }
  &.btn-warning { @include darker-hover($warning-border-subtle, 'warning'); }
  &.btn-danger { @include darker-hover($danger-border-subtle, 'danger'); }
  &.btn-default { @include darker-hover($primary-border-subtle, 'default'); }

  &.btn-pop {
    color: desaturate(lighten(saturate($primary, 80%), 20%), 40%);
    box-shadow: none;
    padding: 0;
    font-size: large;
  }
}

// bonus! make form generated by rails button_to helper act more like a bootstrap button
// at least when inside of a table or panel
.button-row .button_to,
.panel-actions .button_to,
.table .button_to {
  display: inline-block;
  margin: auto 5px;

  + * {
    display: inline-block;
  }
}

.download-btn {
  padding: 6px 12px;
  display: inline-block;
}

.modal-btn {
  box-shadow: none;
  border-color: $background-color;
}

// Do not round file upload buttons on upload fields
.input-group-addon.btn-file {
  border-radius: 0 !important;
}
